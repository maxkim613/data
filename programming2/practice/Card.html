<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style type="text/css">
      .grid {
        display: grid;
        position: relative;
        align-items: center;
      }
    </style>
  </head>
  <body>
    <script type="text/javascript">
      var cardamount = 0;
      const colors = ["blue", "red", "green", "yellow", "purple"];
      //카드추가 기능,삭제 기능
      function buttonCard() {
        var div = document.createElement("div");
        var btn = document.createElement("button");
        var btn2 = document.createElement("button");

        div.id = cardamount;
        div.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        div.style.width = "320px";
        div.style.height = "200px";
        div.style.textAlign = "Center";
        btn.style.width = "60px";
        btn.style.height = "30px";
        btn.innerText = "delete";
        btn.onclick = removeSelf;
        btn.style.position = "relative";
        btn.style.top = "150px";
        btn2.style.border = "none";
        btn2.style.backgroundColor = "transparent"
        btn2.onclick = memo;

        if (cardamount <= 5) {
          document.getElementById("cardarea").appendChild(div);
          div.appendChild(btn);
          div.appendChild(btn2);
          btn2.innerText = "Card "+cardamount;
          cardamount++;
        }
        if (cardamount > 5) {
          firstChild = document.getElementById("cardarea").firstChild;
          document.getElementById("cardarea").removeChild(firstChild);
          document.getElementById("cardarea").appendChild(div);
          div.appendChild(btn);
          div.appendChild(btn2);
          cardamount--;
        }
        
        //삭제 기능도 여기서 되어야함
        //편집 기능

        //카운터 기능

        //5개 꽉차면 "최대 카드 개수 도달!" 알림
      }
      function removeSelf(event) {
        var btn = event.target;
        var div = btn.parentElement; // 버튼이 속한 div를 가져오기
        document.getElementById("cardarea").removeChild(div);
        cardamount--;
      }
      function memo(event) {
        var input = document.createElement("input");
        var mem = event.target;
        input.value = "내용을 입력해주세요";
        input.type = "text";
        input.style.width = "150px";
        input.style.position = "relative";
        input.style.top = "20px";
        input.style.border = "none";
        input.style.backgroundColor = "transparent"
        mem.parentElement.appendChild(input); // 버튼이 속한 div를 가져오기
        cardamount--;
      }
    </script>
    <div>
      <input type="button" id="button" value="Create" onclick="buttonCard()" />
      <br /><br />

      <div
        class="grid"
        id="cardarea"
        style="width: 350px; height: 1200px"
      ></div>
    </div>
  </body>
</html>
