<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>title</title>
  </head>
  <body>
    <h3>DOM 숫자 야구 예제</h3>
    <input
      type="button"
      id="newBtn"
      value="새게임 번호 생성"
      onclick="create()"
    />
    <input type="text" id="num1" style="width: 100px" /> :
    <input type="text" id="num2" style="width: 100px" /> :
    <input type="text" id="num3" style="width: 100px" />
    <input type="button" id="resultBtn" value="결과확인" onclick="confirm()" />
    <br />
    <br />
    <div id="area" style="border: solid; height: 300px; width: 600px"></div>
    <script type="text/javascript">
      var count = 0;
      var check = true;
      var matchcount = 0;
      var ballcount = 0;
      let match1, match2, match3;
      generatenum();
      console.log(match1);
      console.log(match2);
      console.log(match3);
      function generatenum() {
        let numbers = [];
        while (numbers.length < 3) {
          let num = Math.floor(Math.random() * 10);
          if (!numbers.includes(num)) {
            numbers.push(num);
          }
        }
        match1 = numbers[0];
        match2 = numbers[1];
        match3 = numbers[2];
      }
      function create() {
        if (check == true) {
          count++;
          var text = document.createElement("span");
          text.style.display = "inline-block";
          text.style.width = "60px";
          text.style.textAlign = "center";
          text.innerText = count;
          document.getElementById("area").appendChild(text);
          number1();
          number2();
          number3();
          check = false;
        } 
      }
      function number1() {
        var text = document.createElement("span");
        text.style.display = "inline-block";
        text.style.width = "120px";
        text.style.textAlign = "center";
        text.innerText = document.getElementById("num1").value;
        document.getElementById("area").appendChild(text);
      }
      function number2() {
        var text = document.createElement("span");
        text.style.display = "inline-block";
        text.style.width = "120px";
        text.style.textAlign = "center";
        text.innerText = document.getElementById("num2").value;
        document.getElementById("area").appendChild(text);
      }
      function number3() {
        var text = document.createElement("span");
        text.style.display = "inline-block";
        text.style.width = "120px";
        text.style.textAlign = "center";
        text.innerText = document.getElementById("num3").value;
        document.getElementById("area").appendChild(text);
      }
      function confirm() {
        var br = document.createElement("br");
        if (!check) {
          if (document.getElementById("num1").value == match1) {
            matchcount++;
          } else if (
            document.getElementById("num1").value == match2 ||
            document.getElementById("num1").value == match3
          ) {
            ballcount++;
          }
          if (document.getElementById("num2").value == match2) {
            matchcount++;
          } else if (
            document.getElementById("num2").value == match1 ||
            document.getElementById("num2").value == match3
          ) {
            ballcount++;
          }
          if (document.getElementById("num3").value == match3) {
            matchcount++;
          } else if (
            document.getElementById("num3").value == match1 ||
            document.getElementById("num3").value == match2
          ) {
            ballcount++;
          }
          if (matchcount == 0 && ballcount == 0) {
            var text = document.createElement("span");
            text.style.display = "inline-block";
            text.style.width = "120px";
            text.style.textAlign = "center";
            text.innerText = "OUT";
            document.getElementById("area").appendChild(text);
            document.getElementById("area").appendChild(br);
          } else {
            var text = document.createElement("span");
            text.style.display = "inline-block";
            text.style.width = "120px";
            text.style.textAlign = "center";
            text.innerText = matchcount + "S" + ballcount + "B";
            document.getElementById("area").appendChild(text);
            document.getElementById("area").appendChild(br);
          }
        } else {
            alert("create number")
        }
        matchcount = 0;
        ballcount = 0;
        document.getElementById("num1").value = 0;
        document.getElementById("num2").value = 0;
        document.getElementById("num3").value = 0;
        check = true;
      }
    </script>
  </body>
</html>
